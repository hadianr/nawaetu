# Nawaetu ğŸŒ™âœ¨

[![Release](https://github.com/hadianr/nawaetu/actions/workflows/release.yml/badge.svg)](https://github.com/hadianr/nawaetu/releases)
[![Vercel Deployment](https://img.shields.io/badge/Vercel-Deployed-success?logo=vercel)](https://nawaetu.com)
[![License: AGPL v3](https://img.shields.io/badge/License-AGPL_v3-blue.svg)](LICENSE)
[![Dual Licensed](https://img.shields.io/badge/Dual_Licensed-Commercial_Available-purple.svg)](README.id.md#lisensi-dual-licensing)
[![GitHub Issues](https://img.shields.io/github/issues/hadianr/nawaetu)](https://github.com/hadianr/nawaetu/issues)
[![GitHub Stars](https://img.shields.io/github/stars/hadianr/nawaetu)](https://github.com/hadianr/nawaetu)
[![Version](https://img.shields.io/badge/Version-v1.4.0-blue)](https://github.com/hadianr/nawaetu/releases)

> *"Innama al-a'malu bin-niyyat" - Sesungguhnya amal itu tergantung niatnya*

**Versi Saat Ini: v1.4.0** | [Read in English ğŸ‡¬ğŸ‡§](README.md) | [Lihat Changelog](CHANGELOG.md)

**Nawaetu** (dari kata "niat") adalah habit tracker ibadah dengan gamifikasi yang bikin kamu tetap istiqomah.

> âš ï¸ **Catatan Penting:** Proyek ini menggunakan **Dual Licensing**. Gratis untuk open-source di bawah **AGPLv3**, tetapi memerlukan **Lisensi Komersial** untuk penggunaan tertutup/komersial. Lihat [Bagian Lisensi](#lisensi-dual-licensing) untuk detailnya.

**Nawaetu** (dari kata "niat") adalah habit tracker ibadah dengan gamifikasi yang bikin kamu tetap istiqomah di tengah hiruk-pikuk kehidupan modern. Kami percaya setiap amal dimulai dari **niat yang lurus**â€”dan gamification bisa jadi motivasi untuk konsisten beribadah.

---

## ğŸ¯ Philosophy: Start with the Right Intention

**"Niat Lurus, Build Habits, Amal Konsisten"**

**Nawaetu** = Niat + Gamifikasi. Di era yang penuh distraksi, susah jaga konsistensi. Nawaetu hadir sebagai *habit-building companion* yang bikin ibadah lebih engaging:
- ğŸ¨ **Aesthetic & Minimal** - UI modern yang bikin betah, bukan distraksi
- ğŸ¤– **AI-Powered** - Tanya kapan aja, 24/7 tanpa judgement
- ğŸ® **Gamified System** - Daily Missions, Streak Counter, XP & Level Up
- ğŸš€ **Lightning Fast** - Performa optimized, kayak lagi main game AAA
- ğŸ’¯ **100% Bebas Iklan** - Fokus ibadah, bukan iklan

**Tagline**: *"Level up your faith, one habit at a time"* ğŸš€

**Slogan**: *"#NiatAjaDulu - Karena semua dimulai dari niat"*

Karena di akhir, semua kembali ke **niat**. Dan Nawaetu hadir untuk membantu kamu **build ibadah habits** yang konsisten dengan sistem gamifikasi yang seru.

---

## ğŸŒŸ Fitur Unggulan (v1.4.0)

### 1. ğŸ”” iOS & Background Notifications (New)
*   **iOS Fix**: Notifikasi tetap muncul di iPhone meskipun app di background/lock screen [NEW v1.4.0]
*   **Hybrid Sync**: Kombinasi Server Sync (1x/hari) & Client-side notification (real-time) [NEW v1.4.0]
*   **APNS Optimized**: Payload khusus Apple untuk background delivery yang handal
*   **Silent Token Refresh**: Memastikan token FCM tetap fresh di sisi server secara otomatis

### 2. ğŸ¤– Nawaetu AI - Your 24/7 Spiritual Mentor (Updated)
*   **Smart Rate Limiting**: Limit pintar (5x/hari Free, 25x/hari Muhsinin) dengan auto-reset saat upgrade [NEW v1.3.0]
*   **Chat History**: Percakapan tersimpan antar sesi, lanjut ngobrol kapan aja [NEW v1.3.0]
*   **Direct & Concise**: Jawaban AI lebih ringkas, to-the-point, dan tanpa basa-basi berlebih [NEW v1.3.0]
*   **Dalil-Based**: Semua jawaban AI disertai **Dalil Al-Qur'an & Hadits Shahih**
*   **No Judgment Zone**: Curhat masalah ibadah atau tanya hukum Islam dengan privasi penuh
*   **Multi-Model**: Powered by Google Gemini 2.5 Flash-Lite & Groq Llama 3.3 70B

### 2. ğŸ“– Al-Qur'an Digital - Mushaf di Genggaman
*   **Verse-by-Verse Audio**: Tap ayat buat denger murattal (Mishary Rashid, dll)
*   **Tajwid Color-Coded**: Panduan warna tajwid interaktif (Ghunnah, Qalqalah, Mad)
*   **Mushaf & List View**: Pilih tampilan senyaman mushaf cetak atau scroll modern
*   **Bookmark & Last Read**: Otomatis nyimpen posisi bacaan terakhir
*   **Translation**: Terjemahan Indonesia (Kemenag) langsung di bawah ayat
*   **Sumber Mushaf**: Arabic text menggunakan Kemenag + Uthmani (harakat lengkap) untuk tampilan yang akurat

### 3. ğŸ•Œ Prayer Times - Gak Bakal Kelewat Lagi
*   **Akurat & Real-time**: Jadwal sholat otomatis sesuai lokasi GPS
*   **Countdown Timer**: Hitung mundur ke waktu sholat berikutnya
*   **Adhan Notification**: Notifikasi adzan (web push notification)
*   **Qibla Compass**: Kompas kiblat dengan sensor gyroscope

### 4. ğŸ® Gamification - Make Ibadah Fun Again
*   **Daily Missions**: 19 misi harian (Ramadhan & Sya'ban season)
*   **Streak System**: Jaga konsistensi ibadah, jangan sampai putus!
*   **XP & Leveling**: Naik level spiritual dari "Newbie" ke "Ramadhan Ready"
*   **Progress Tracking**: Lihat perkembangan ibadah kamu secara visual

### 5. ğŸ Muhsinin Program - Support the Mission
*   **100% Gratis & Bebas Iklan**: Core features tetap gratis untuk semua
*   **Premium Perks**: Unlimited AI chat, premium themes, priority support
*   **Infaq Transparan**: Donasi digunakan untuk operasional server & pengembangan

### 6. ğŸŒ Multi-Language & Theme System (v1.1.0)
*   **Dual Language**: Indonesian & English interface
*   **Dynamic Theme System**: CSS variables untuk consistent theming
*   **Dark Mode**: Auto-switch berdasarkan sistem preference
*   **Localized Content**: Missions, presets, dan UI text support ID/EN
*   **Persistent Settings**: Theme dan language preferences tersimpan

---

## âš¡ Performance & Optimization

**PageSpeed Insights Score: 88-93/100** ğŸš€

Kami obsessed sama performa karena ibadah gak boleh distracted sama lag:

### ğŸ¨ Core Web Vitals
- âš¡ **First Contentful Paint**: 2.1s
- ğŸ–¼ï¸ **Largest Contentful Paint**: 3.2s
- ğŸ“Š **Cumulative Layout Shift**: 0.064 (Excellent!)
- â±ï¸ **Total Blocking Time**: 80ms

### ğŸ› ï¸ Technical Optimizations
- âœ… **Advanced Code Splitting**: Main chunk optimized, unused code tree-shaken
- âœ… **CSS Optimization**: Critical CSS inlined, non-critical deferred
- âœ… **Image Optimization**: AVIF/WebP dengan lazy loading
- âœ… **Script Deferral**: Analytics & monitoring dimuat setelah LCP
- âœ… **Webpack Tuning**: minChunks: 3, usedExports: true, sideEffects: false
- âœ… **Font Display Swap**: Fonts load tanpa blocking render
- âœ… **Reduced Bundle Size**: Removed transpilePackages untuk ES6 native

### ğŸ“± Accessibility: 100/100
- âœ… **WCAG 2.1 AA Compliant**
- âœ… **Keyboard Navigation**: Full keyboard support
- âœ… **Screen Reader Friendly**: Semantic HTML & ARIA labels
- âœ… **Color Contrast**: All text meets contrast ratio requirements
- âœ… **Focus Management**: Clear focus indicators

### ğŸ”’ Best Practices: 100/100
- âœ… **HTTPS Everywhere**
- âœ… **No Console Errors**
- âœ… **Modern Image Formats**
- âœ… **Secure Dependencies**
- âœ… **CSP Headers**

### ğŸ” SEO: 100/100
- âœ… **Meta Tags Optimized**
- âœ… **Semantic HTML5**
- âœ… **Open Graph & Twitter Cards**
- âœ… **Sitemap & Robots.txt**
- âœ… **Structured Data (JSON-LD)**
- âœ… **Mobile-Friendly**

---

## ğŸ› ï¸ Tech Stack

Dibangun dengan teknologi bleeding-edge untuk experience terbaik:

### Core Framework
*   **Next.js 16.1.6** (App Router + Turbopack) - React meta-framework
*   **TypeScript** - Type-safe development
*   **React 19** - Latest React with concurrent features

### AI & APIs
*   **Google Gemini 2.5 Flash-Lite** - Fast & accurate AI responses
*   **Groq Llama 3.3 70B** - High-performance inference
*   **Prayer Times API** - Accurate prayer schedules
*   **Kemenag Quran API** - Surah, terjemahan & tafsir Indonesia
*   **Quran.com API (Uthmani)** - Arabic text dengan harakat lengkap
*   **Firebase Admin SDK** - Server-side messaging & notifications [NEW v1.4.0]
*   **Vercel Cron** - Scheduled background tasks [NEW v1.4.0]

### Backend & Database (v1.2.0 Ready)
*   **Drizzle ORM** - TypeScript ORM for scaling
*   **Postgres Ready** - Architecture prepared for database migration
*   **NextAuth.js** - Authentication ready
*   **Centralized API Config** - DRY architecture for external services

### Styling & UI
*   **Tailwind CSS v4** - Utility-first CSS framework
*   **Shadcn UI** - Beautiful & accessible components
*   **Framer Motion** - Smooth animations
*   **Lucide React** - Modern icon library

### Performance & Monitoring
*   **Sentry** - Error tracking & performance monitoring
*   **Google Analytics 4** - User behavior analytics (deferred load)
*   **Web Vitals** - Real user monitoring
*   **PWA** - Installable on all platforms

### Developer Experience
*   **ESLint** - Code linting
*   **Prettier** - Code formatting
*   **Husky** - Git hooks (optional)

---

## ğŸš€ Deployment

### Live Demo
- ğŸŒ **Production**: [nawaetu.com](https://nawaetu.com)
- ğŸ“Š **Vercel Dashboard**: [Vercel Console](https://vercel.com)

### Auto-Deployment Pipeline

**Trigger Events:**
```
Push ke main branch
    â†“
Vercel: Auto-Build & Test
    â†“
Vercel: Auto-Deploy (production)
    â†“
Live pada nawaetu.com âœ…
```

**Deployment Flow:**
1. Code pushed ke GitHub `main` branch
2. Vercel automatically triggers build & test
3. Jika build success âœ…
4. Vercel automatically deploy to production (~2-5 min)
5. Deploy logs bisa dilihat di Vercel dashboard

### Deployment Status

| Environment | URL | Status |
|---|---|---|
| **Production** | https://nawaetu.com | ğŸŸ¢ Active |
| **Preview** | Each PR â†’ Vercel preview URL | ğŸŸ¢ Auto-generated |

### Preview Deployments

Setiap Pull Request otomatis mendapat **preview URL**:

```
PR #123 â†’ https://nawaetu-pr-123.vercel.app

Gunakan untuk testing sebelum merge!
```

### Monitoring & Performance

- **Vercel Analytics**: Response time, error tracking, performance metrics
- **Vercel Build Logs**: Real-time build output dan error tracking
- **Automatic Rollback**: Jika issue, mudah di-revert via Vercel dashboard

---

## ğŸš€ Getting Started

### Prerequisites
- Node.js 18+ (Recommended: 20.x)
- npm/yarn/pnpm

### Installation

```bash
# Clone repo
git clone https://github.com/hadianr/nawaetu.git
cd nawaetu

# Install dependencies
npm install

# Copy environment variables
cp .env.example .env.local

# Fill in your API keys in .env.local
# - GEMINI_API_KEY
# - GROQ_API_KEY
# - SENTRY_AUTH_TOKEN (optional)
# - NEXT_PUBLIC_GA_MEASUREMENT_ID (optional)

# Run development server
npm run dev

# Open http://localhost:3000
```

### Build for Production

```bash
# Create optimized production build
npm run build

# Start production server
npm start

# Or deploy to Vercel (recommended)
vercel deploy
```

---

## ğŸ“± PWA Installation

Nawaetu bisa diinstall kayak native app:

**Android:**
1. Buka nawaetu.com di Chrome
2. Tap menu (3 titik) â†’ "Install app"
3. Done! Icon muncul di home screen

**iOS:**
1. Buka nawaetu.com di Safari
2. Tap Share button â†’ "Add to Home Screen"
3. Done! Launch dari home screen

---

## ğŸ¤ Contributing

Kami welcome kontribusi dari komunitas! Whether it's:
- ğŸ› Bug reports
- âœ¨ Feature requests
- ğŸ“ Documentation improvements
- ğŸ’» Code contributions

**How to Contribute:**
1. Fork the repo
2. Create feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Open Pull Request

---

## ğŸ“„ License

Open Source untuk tujuan dakwah & edukasi.
Developed with â¤ï¸ by **Antigravity** for the ummah.

---

## ğŸ¨ Brand Assets

### Hashtags
`#NiatAjaDulu` `#Nawaetu` `#BuildHabits` `#IslamicGamification` `#IbadahHabits` `#StreakKeeper` `#DailyMissions` `#LevelUpIman` `#IstiqomahDaily` `#HabitTracker` `#MuslimTech`

### Social Media
- Website: [nawaetu.com](https://nawaetu.com)
- Instagram: [@nawaetuapp](https://instagram.com/nawaetuapp) (coming soon)
- Twitter: [@nawaetuapp](https://twitter.com/nawaetuapp) (coming soon)
- GitHub: [hadianr/nawaetu](https://github.com/hadianr/nawaetu)

---

## ğŸš€ Getting Started

### For Users
1. Visit [nawaetu.com](https://nawaetu.com)
2. Allow location permission untuk fitur jadwal sholat
3. Mulai complete daily missions!
4. Optional: Install as PWA (add to home screen)

### For Developers

**Prerequisites:**
- Node.js 20+
- npm atau yarn
- Git

**Installation:**
```bash
# Clone repository
git clone https://github.com/hadianr/nawaetu.git
cd nawaetu

# Install dependencies
npm install

# Setup environment variables
cp .env.example .env.local
# Edit .env.local dengan konfigurasi Anda

# Run development server
npm run dev

# Open browser
# http://localhost:3000
```

**Available Scripts:**
```bash
npm run dev          # Start dev server with hot reload
npm run build        # Build for production
npm run start        # Start production server
npm run lint         # Run ESLint
npm run analyze      # Analyze bundle size
```

**Build Workflow:**
1. Make changes di branch baru
2. Push & create Pull Request
3. Vercel akan automatically build & test (preview deployment)
4. Merge ke main setelah approval
5. Vercel automatically deploy to production

---

## ğŸ“¦ Release Management

### Quick Release

**Cara tercepat untuk release:**

```bash
# 1. Ensure main branch & latest code
git checkout main
git pull origin main

# 2. Use release script (fully automated)
npm run release -- v1.2.0
```

**Apa yang terjadi otomatis:**
1. âœ… Validate version format (vX.Y.Z)
2. âœ… Check working directory clean
3. âœ… Verify all commits pushed
4. âœ… Create annotated git tag
5. âœ… Push tag to origin
6. âœ… Trigger GitHub Actions workflows:
   - Create GitHub Release
   - Extract changelog
   - Update package.json
7. âœ… Vercel auto-deploys to production

### Detailed Release Guide

Untuk panduan lengkap dan troubleshooting: [RELEASE_PROCESS.md](.github/RELEASE_PROCESS.md)

**Topik yang covered:**
- Pre-release checklist
- Manual release (jika script error)
- GitHub CLI alternative
- Monitoring release status
- Rollback procedures
- FAQ

### Release Workflow Overview

```
Local Machine              GitHub               Vercel
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
npm run release v1.2.0
    â”‚
    â”œâ”€ Validate version
    â”œâ”€ Check git status
    â”œâ”€ Create tag
    â””â”€ git push origin tag
                           â”‚
                           â”œâ”€ Release Workflow
                           â”‚  â”œâ”€ Build (~3-5 min)
                           â”‚  â”œâ”€ Extract Changelog
                           â”‚  â”œâ”€ Create Release
                           â”‚  â””â”€ Update package.json
                           â”‚
                           â””â”€ Trigger Vercel
                                           â”‚
                                           â”œâ”€ Build & Test
                                           â”œâ”€ Preview Deploy
                                           â””â”€ Production Deploy (~2-5 min)
                                              https://nawaetu.com
```

**Total time:** ~10-20 minutes dari `npm run release` sampai live di production.

**Note:** Vercel handles all build & test automation. GitHub Actions hanya untuk release management.

---

## ğŸ¤ Contributing

Contributions adalah welcome! Berikut cara contribute:

1. **Fork** repository ini
2. **Create feature branch** (`git checkout -b feature/amazing-feature`)
3. **Commit changes** (`git commit -m 'feat: add amazing feature'`)
4. **Push to branch** (`git push origin feature/amazing-feature`)
5. **Open Pull Request**

**Commit Message Convention:**
```
feat: add new feature
fix: fix bug
docs: update documentation
style: formatting changes
refactor: code restructuring
test: add tests
chore: maintenance tasks
```

**Code Standards:**
- TypeScript strict mode
- ESLint configuration
- Prettier formatting
- React best practices

---

## ğŸ“‹ Project Structure

```
nawaetu/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/              # Next.js app pages
â”‚   â”œâ”€â”€ components/       # React components
â”‚   â”œâ”€â”€ context/          # React context providers
â”‚   â”œâ”€â”€ data/             # Static data & translations
â”‚   â”œâ”€â”€ hooks/            # Custom React hooks
â”‚   â”œâ”€â”€ lib/              # Utility functions & helpers
â”‚   â””â”€â”€ instrumentation.ts
â”œâ”€â”€ public/               # Static assets
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/        # GitHub Actions CI/CD
â”œâ”€â”€ .env.example          # Environment variables template
â”œâ”€â”€ CHANGELOG.md          # Version history
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

---

## ğŸ’¬ Support

Punya pertanyaan atau feedback? Reach out:
- ğŸ“§ Email: support@nawaetu.com
- ğŸ’¬ In-app: Tanya Nawaetu (Asisten Muslim AI)
- ğŸ› Issues: [GitHub Issues](https://github.com/hadianr/nawaetu/issues)
- ğŸ’¬ Discussions: [GitHub Discussions](https://github.com/hadianr/nawaetu/discussions)

---


## â˜• Dukung Pengembangan

Nawaetu adalah proyek open-source untuk umat. Dukungan Anda membantu menutupi biaya server (database, hosting) dan mempercepat pengembangan fitur baru.

[![GitHub Sponsors](https://img.shields.io/badge/Sponsor-GitHub-ea4aaa?style=for-the-badge&logo=github)](https://github.com/sponsors/hadianr)
[![Trakteer](https://img.shields.io/badge/Trakteer-Traktir-be1e2d?style=for-the-badge&logo=ko-fi&logoColor=white)](https://trakteer.id/hadianr)
[![Ko-fi](https://img.shields.io/badge/Ko--fi-Support-F16061?style=for-the-badge&logo=ko-fi&logoColor=white)](https://ko-fi.com/hadianr)
[![Buy Me a Coffee](https://img.shields.io/badge/Buy_Me_a_Coffee-FFDD00?style=for-the-badge&logo=buy-me-a-coffee&logoColor=black)](https://buymeacoffee.com/hadianr)

Semoga Allah membalas kebaikan Anda dengan pahala yang berlipat ganda. Jazakumullah Khairan Katsiran! ğŸ¤²

---

## ğŸ“„ Lisensi (Dual Licensing)

**Nawaetu** menerapkan model **Dual Licensing** untuk menjaga keberlanjutan proyek dan melindungi komunitas:

### 1. Edisi Komunitas (Gratis & Open Source)
Berlisensi di bawah **AGPLv3 (GNU Affero General Public License v3)**.
- âœ… Gratis digunakan, dimodifikasi, dan didistribusikan.
- âš ï¸ Jika Anda memodifikasi dan mendistribusikan (termasuk menjalankannya sebagai layanan SaaS), **Anda WAJIB membuka source code Anda** di bawah lisensi AGPLv3.
- **Cocok untuk**: Individu, komunitas, belajar, dan kontribusi open source.

### 2. Lisensi Komersial (Berbayar/White Label)
Untuk perusahaan atau individu yang ingin menggunakan Nawaetu untuk **tujuan komersial**, **white-label**, atau **tanpa membuka source code**.
- âœ… Source code tetap privat (tidak perlu open source).
- âœ… Boleh rebranding (White Label).
- âœ… Priority support & fitur enterprise.
- ğŸ“© Kontak: **license@nawaetu.com** untuk harga dan detail.

Lihat file [LICENSE](LICENSE) untuk teks lengkap AGPLv3.

---

## ğŸ‘¤ Author

**Hadianr**
- GitHub: [@hadianr](https://github.com/hadianr)
- Email: hadianr@example.com

---

## ğŸ™ Acknowledgments

- Murattal by Mishary Rashid Al-Afasy
- Quran API by [Quran.com](https://quran.com)
- Prayer times calculation by [Aladhan API](https://aladhan.com)
- Icons by [Lucide Icons](https://lucide.dev)
- UI Components by [shadcn/ui](https://ui.shadcn.com)
- AI powered by [Google Gemini](https://gemini.google.com) & [Groq](https://groq.com)

----

**"Innama al-a'malu bin-niyyat" - Start with intention, end with blessings.**

**#LuruskanNiat #BuildHabits #IstiqomahDaily**

Let's make ibadah easier, one niat at a time. ğŸš€ğŸŒ™

---

*Last updated: February 8, 2026*
